[
  {
    "tag": "latest",
    "events": ["pull_request", "push"],
    "config": {
      "protocol_version_default": 24
    },
    "deps": [
      { "name": "xdr", "repo": "stellar/rs-stellar-xdr", "ref": "v24.0.0" },
      { "name": "core", "repo": "stellar/stellar-core", "ref": "v24.0.0", "options": { "configure_flags": "--disable-tests" } },
      { "name": "rpc", "repo": "stellar/stellar-rpc", "ref": "v24.0.0" },
      { "name": "horizon", "repo": "stellar/go", "ref": "horizon-v24.0.0", "options": { "pkg": "github.com/stellar/go/services/horizon" } },
      { "name": "friendbot", "repo": "stellar/go", "ref": "horizon-v24.0.0", "options": { "pkg": "github.com/stellar/go/services/friendbot" } },
      { "name": "lab", "repo": "stellar/laboratory", "ref": "main" }
    ],
    "tests": {
      "continue-on-error": false,
      "additional-tests": [
        { "arch": "amd64", "network": "pubnet", "enable": "core,rpc,horizon" }
      ]
    }
  },
  {
    "tag": "testing",
    "events": ["pull_request", "push"],
    "config": {
      "protocol_version_default": 24
    },
    "deps": [
      { "name": "xdr", "repo": "stellar/rs-stellar-xdr", "ref": "v24.0.0" },
      { "name": "core", "repo": "stellar/stellar-core", "ref": "v24.1.0rc1", "options": { "configure_flags": "--disable-tests" } },
      { "name": "rpc", "repo": "stellar/stellar-rpc", "ref": "v24.0.0" },
      { "name": "horizon", "repo": "stellar/go", "ref": "horizon-v24.0.0", "options": { "pkg": "github.com/stellar/go/services/horizon" } },
      { "name": "friendbot", "repo": "stellar/go", "ref": "horizon-v24.0.0", "options": { "pkg": "github.com/stellar/go/services/friendbot" } },
      { "name": "lab", "repo": "stellar/laboratory", "ref": "main" }
    ],
    "tests": {
      "continue-on-error": false,
      "additional-tests": [
        { "arch": "amd64", "network": "testnet", "enable": "core,rpc,horizon" },
        { "arch": "amd64", "network": "pubnet", "enable": "core,rpc,horizon" }
      ]
    }
  },
  {
    "tag": "future",
    "events": ["pull_request", "push"],
    "config": {
      "protocol_version_default": 24
    },
    "deps": [
      { "name": "xdr", "repo": "stellar/rs-stellar-xdr", "ref": "v24.0.0" },
      { "name": "core", "repo": "stellar/stellar-core", "ref": "v24.0.0", "options": { "configure_flags": "--disable-tests" } },
      { "name": "rpc", "repo": "stellar/stellar-rpc", "ref": "v24.0.0" }, 
      { "name": "horizon", "repo": "stellar/go", "ref": "horizon-v24.0.0", "options": { "pkg": "github.com/stellar/go/services/horizon" } },
      { "name": "friendbot", "repo": "stellar/go", "ref": "horizon-v24.0.0", "options": { "pkg": "github.com/stellar/go/services/friendbot" } },
      { "name": "lab", "repo": "stellar/laboratory", "ref": "main" }
    ],
    "tests": {
      "continue-on-error": false,
      "additional-tests": []
    }
  },
  {
    "tag": "nightly",
    "events": ["push", "schedule", "pull_request"],
    "config": {
      "protocol_version_default": 24
    },
    "deps": [
      { "name": "xdr", "repo": "stellar/rs-stellar-xdr", "ref": "main" },
      { "name": "core", "repo": "stellar/stellar-core", "ref": "master", "options": { "configure_flags": "--disable-tests" } },
      { "name": "rpc", "repo": "stellar/stellar-rpc", "ref": "main" },
      { "name": "horizon", "repo": "stellar/stellar-horizon", "ref": "main", "options": { "pkg": "github.com/stellar/stellar-horizon" } },
      { "name": "friendbot", "repo": "stellar/friendbot", "ref": "main", "options": { "pkg": "github.com/stellar/friendbot" } },
      { "name": "lab", "repo": "stellar/laboratory", "ref": "main" }
    ],
    "tests": {
      "continue-on-error": true,
      "additional-tests": []
    }
  },
  {
    "tag": "nightly-next",
    "events": ["push", "schedule", "pull_request"],
    "config": {
      "protocol_version_default": 25,
      "horizon_skip_protocol_version_check": true
    },
    "deps": [
      { "name": "xdr", "repo": "stellar/rs-stellar-xdr", "ref": "main" },
      { "name": "core", "repo": "stellar/stellar-core", "ref": "master", "options": { "configure_flags": "--disable-tests --enable-next-protocol-version-unsafe-for-production" } },
      { "name": "rpc", "repo": "stellar/stellar-rpc", "ref": "main" },
      { "name": "horizon", "repo": "stellar/stellar-horizon", "ref": "main", "options": { "pkg": "github.com/stellar/stellar-horizon" } },
      { "name": "friendbot", "repo": "stellar/friendbot", "ref": "main", "options": { "pkg": "github.com/stellar/friendbot" } },
      { "name": "lab", "repo": "stellar/laboratory", "ref": "main" }
    ],
    "tests": {
      "continue-on-error": true,
      "additional-tests": []
    }
  }
]
